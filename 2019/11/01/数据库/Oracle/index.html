<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Oracle | ZSP&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
    <meta name="keywords" content="ZSP,ZSP's Blog" />
  
  <meta name="description" content="1.基础内容1.基础配置1.下载安装 基础知识:  Oracle分为服务端和客户端两种; 安装了服务端就不需要安装客户端,服务端内包含客户端;   下载数据库: 这里选择的是oracle11g快捷版,与普通版相比缺少个别不常用功能,但是却节约内存和磁盘空间,适用于开发使用;  安装数据库: 设置密码时不能使用标点符号;   2.启动关闭 使用软件自带的bat脚本;  使用自制数据库脚本,用管理员权">
<meta name="keywords" content="数据库,Oracle">
<meta property="og:type" content="article">
<meta property="og:title" content="Oracle">
<meta property="og:url" content="https:&#x2F;&#x2F;airbash.cn&#x2F;2019&#x2F;11&#x2F;01&#x2F;%E6%95%B0%E6%8D%AE%E5%BA%93&#x2F;Oracle&#x2F;index.html">
<meta property="og:site_name" content="ZSP&#39;s Blog">
<meta property="og:description" content="1.基础内容1.基础配置1.下载安装 基础知识:  Oracle分为服务端和客户端两种; 安装了服务端就不需要安装客户端,服务端内包含客户端;   下载数据库: 这里选择的是oracle11g快捷版,与普通版相比缺少个别不常用功能,但是却节约内存和磁盘空间,适用于开发使用;  安装数据库: 设置密码时不能使用标点符号;   2.启动关闭 使用软件自带的bat脚本;  使用自制数据库脚本,用管理员权">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="https:&#x2F;&#x2F;airbash.cn&#x2F;2019&#x2F;11&#x2F;01&#x2F;%E6%95%B0%E6%8D%AE%E5%BA%93&#x2F;Oracle&#x2F;imgs&#x2F;Oracle%E6%95%B0%E6%8D%AE%E5%BA%93%E7%BB%93%E6%9E%84.png">
<meta property="og:updated_time" content="2019-11-06T03:36:22.453Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https:&#x2F;&#x2F;airbash.cn&#x2F;2019&#x2F;11&#x2F;01&#x2F;%E6%95%B0%E6%8D%AE%E5%BA%93&#x2F;Oracle&#x2F;imgs&#x2F;Oracle%E6%95%B0%E6%8D%AE%E5%BA%93%E7%BB%93%E6%9E%84.png">
  
  
    <link rel="icon" href="/favicon.ico">
  
  <link href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css">
  <script src="/js/pace.min.js"></script>
  

  
  

</head>

<body>
  <div id="container">
      <header id="header">
    <div id="banner"></div>
    <div id="header-outer">
        <div id="header-menu" class="header-menu-pos animated">
            <div class="header-menu-container">
                <a href="/" class="left">
                    <span class="site-title">ZSP&#39;s Blog</span>
                </a>
                <nav id="header-menu-nav" class="right">
                    
                    <a  href="/">
                        <i class="fa fa-home"></i>
                        <span>主页</span>
                    </a>
                    
                    <a  href="/archives">
                        <i class="fa fa-archive"></i>
                        <span>归档</span>
                    </a>
                    
                    <a  href="/about">
                        <i class="fa fa-user"></i>
                        <span>关于</span>
                    </a>
                    
                </nav>
                <a class="mobile-header-menu-button">
                    <i class="fa fa-bars"></i>
                </a>
            </div>
        </div>
        <div id="header-row">
            <div id="logo">
                <a href="/">
                    <img src="/images/logo.png" alt="logo">
                </a>
            </div>
            <div class="header-info">
                <div id="header-title">
                    
                    <h2>
                        ZSP&#39;s Blog
                    </h2>
                    
                </div>
                <div id="header-description">
                    
                    <h3>
                        一个专注 JAVA 开发的技术博客
                    </h3>
                    
                </div>
            </div>
            <nav class="header-nav">
                <div class="social">
                    
                        <a title="airbash" target="_blank" href="//airbash.cn">
                            <i class="fa fa-home fa-2x"></i></a>
                    
                        <a title="Github" target="_blank" href="//github.com/yanxuedesaonian">
                            <i class="fa fa-github fa-2x"></i></a>
                    
                        <a title="Weibo" target="_blank" href="//weibo.com/zspzhaoshuaipeng">
                            <i class="fa fa-weibo fa-2x"></i></a>
                    
                </div>
            </nav>
        </div>
    </div>
</header>
      <div class="outer">
        <section id="main" class="body-wrap"><article id="post-数据库/Oracle" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 class="post-title" itemprop="name">
      Oracle
    </h1>
    <div class="post-title-bar">
      <ul>
          
              <li>
                  <i class="fa fa-book"></i>
                  
                      <a href="/categories/数据库/">数据库</a>
                  
              </li>
          
        <li>
          <i class="fa fa-calendar"></i>  2019-11-01
        </li>
        <li>
          <i class="fa fa-eye"></i>
          <span id="busuanzi_value_page_pv"></span>
        </li>
      </ul>
    </div>
  

          
      </header>
    
    <div class="article-entry post-content" itemprop="articleBody">
      
            
            <h2 id="1-基础内容"><a href="#1-基础内容" class="headerlink" title="1.基础内容"></a>1.基础内容</h2><h3 id="1-基础配置"><a href="#1-基础配置" class="headerlink" title="1.基础配置"></a>1.基础配置</h3><h4 id="1-下载安装"><a href="#1-下载安装" class="headerlink" title="1.下载安装"></a>1.下载安装</h4><ol>
<li><p>基础知识:</p>
<ol>
<li>Oracle分为<a href="https://www.oracle.com/technetwork/cn/database/enterprise-edition/downloads/index.html" target="_blank" rel="noopener">服务端</a>和<a href="https://www.oracle.com/database/technologies/instant-client/downloads.html" target="_blank" rel="noopener">客户端</a>两种;</li>
<li>安装了服务端就不需要安装客户端,服务端内包含客户端;</li>
</ol>
</li>
<li><p>下载数据库:</p>
<p>这里选择的是oracle11g快捷版,与普通版相比缺少个别不常用功能,但是却节约内存和磁盘空间,适用于开发使用;</p>
</li>
<li><p>安装数据库:</p>
<p>设置密码时不能使用标点符号;</p>
</li>
</ol>
<h4 id="2-启动关闭"><a href="#2-启动关闭" class="headerlink" title="2.启动关闭"></a>2.启动关闭</h4><ol>
<li><p>使用软件自带的bat脚本;</p>
</li>
<li><p>使用自制数据库脚本,用管理员权限运行;</p>
<figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line"><span class="keyword">for</span> /f "skip=<span class="number">3</span> tokens=<span class="number">4</span>" <span class="variable">%%i</span> <span class="keyword">in</span> ('sc query OracleXETNSListener') <span class="keyword">do</span> <span class="built_in">set</span> "zt=<span class="variable">%%i</span>" &amp;<span class="keyword">goto</span> :next</span><br><span class="line">:next</span><br><span class="line"><span class="keyword">if</span> /i "<span class="variable">%zt%</span>"=="RUNNING" (</span><br><span class="line"><span class="built_in">echo</span> 已经发现OracleXETNSListener在运行，现在已经停止运行</span><br><span class="line"><span class="built_in">net</span> stop OracleXETNSListener</span><br><span class="line">) <span class="keyword">else</span> (</span><br><span class="line"><span class="built_in">echo</span> OracleXETNSListener现在处于停止状态,将进行启动</span><br><span class="line"><span class="built_in">net</span> <span class="built_in">start</span> OracleXETNSListener</span><br><span class="line">)</span><br><span class="line"><span class="built_in">pause</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> /f "skip=<span class="number">3</span> tokens=<span class="number">4</span>" <span class="variable">%%i</span> <span class="keyword">in</span> ('sc query OracleServiceXE') <span class="keyword">do</span> <span class="built_in">set</span> "zt=<span class="variable">%%i</span>" &amp;<span class="keyword">goto</span> :next</span><br><span class="line">:next</span><br><span class="line"><span class="keyword">if</span> /i "<span class="variable">%zt%</span>"=="RUNNING" (</span><br><span class="line"><span class="built_in">echo</span> 已经发现OracleServiceXE在运行，现在已经停止运行</span><br><span class="line"><span class="built_in">net</span> stop OracleServiceXE</span><br><span class="line">) <span class="keyword">else</span> (</span><br><span class="line"><span class="built_in">echo</span> OracleServiceXE现在处于停止状态,将进行启动</span><br><span class="line"><span class="built_in">net</span> <span class="built_in">start</span> OracleServiceXE</span><br><span class="line">)</span><br><span class="line"><span class="built_in">pause</span></span><br></pre></td></tr></table></figure>

</li>
</ol>
<h4 id="3-配置文件"><a href="#3-配置文件" class="headerlink" title="3.配置文件"></a>3.配置文件</h4><p>与mysql不同的是oracle远程连接需要单独的配置文件,并将配置文件的地址写在环境变量中</p>
<h5 id="1-基础配置文件"><a href="#1-基础配置文件" class="headerlink" title="1.基础配置文件"></a>1.基础配置文件</h5><p><code>oci.dll</code>文件位置:oracle\product\11.2.0\server\bin\oci.dll</p>
<h5 id="2-三大配置文件"><a href="#2-三大配置文件" class="headerlink" title="2.三大配置文件"></a>2.三大配置文件</h5><p>配置文件位置:oracle\product\11.2.0\server\network\ADMIN\</p>
<ol>
<li><p>listener.ora</p>
<ol>
<li><p>事例</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">LISTENER_CSA =</span><br><span class="line">  (DESCRIPTION_LIST =</span><br><span class="line">    (DESCRIPTION =</span><br><span class="line">      (ADDRESS_LIST =</span><br><span class="line">        (ADDRESS = (PROTOCOL = TCP)(HOST = ip地址)(PORT = 1521))</span><br><span class="line">      )</span><br><span class="line">    )</span><br><span class="line">  )</span><br><span class="line">SID_LIST_LISTENER_CSA =</span><br><span class="line">  (SID_LIST =</span><br><span class="line">    (SID_DESC =</span><br><span class="line">      (ORACLE_HOME = oracle根目录)</span><br><span class="line">      (SID_NAME = 实例名称)</span><br><span class="line">    )</span><br><span class="line">  )</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><p>sqlnet.ora</p>
<p>可以删除,删除后默认使用tnsnames.ora内的配置</p>
</li>
<li><p>tnsnames.ora</p>
<ol>
<li><p>作用:</p>
<p>配置基础的远程连接的端口号和ip地址</p>
</li>
<li><p>实例</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">自定义服务名 =</span><br><span class="line">  (DESCRIPTION =</span><br><span class="line">    (ADDRESS = (PROTOCOL = TCP)(HOST = IP地址)(PORT = 1521))</span><br><span class="line">    (CONNECT_DATA =</span><br><span class="line">      (SERVER = DEDICATED)</span><br><span class="line">      (SERVICE_NAME = 自定义服务名)</span><br><span class="line">    )</span><br><span class="line">  )</span><br></pre></td></tr></table></figure>

</li>
</ol>
</li>
</ol>
<h3 id="2-基础知识"><a href="#2-基础知识" class="headerlink" title="2.基础知识"></a>2.基础知识</h3><h4 id="1-注意事项"><a href="#1-注意事项" class="headerlink" title="1.注意事项"></a>1.注意事项</h4><ol>
<li><p>在oracle中除了别名外都用单引号,别名用双引号或者直接写.</p>
</li>
<li><p>别名用as连接或空格连接</p>
</li>
<li><p><code>create or replace</code>:有则创建,无则修改:视图/触发器/存储/触发器</p>
</li>
<li><p>虚表:dual;伪列:自己写的列</p>
</li>
</ol>
<h4 id="2-体系结构"><a href="#2-体系结构" class="headerlink" title="2.体系结构"></a>2.体系结构</h4><p><img src="imgs/Oracle%E6%95%B0%E6%8D%AE%E5%BA%93%E7%BB%93%E6%9E%84.png" alt=""></p>
<table>
<thead>
<tr>
<th>结构</th>
<th>作用</th>
<th>注意事项</th>
</tr>
</thead>
<tbody><tr>
<td>数据库</td>
<td>一个数据库可以有多个实例;</td>
<td></td>
</tr>
<tr>
<td>事例</td>
<td>不同的实例可以创建相同的用户名;</td>
<td></td>
</tr>
<tr>
<td>用户</td>
<td>一个用户至少有一个表空间</td>
<td>类似于mysql里的库</td>
</tr>
<tr>
<td>表空间</td>
<td>ora或者dbf的数据文件在oracle中宏观</td>
<td></td>
</tr>
<tr>
<td>数据</td>
<td>oracle存储文件:ora或者dbf格式文件</td>
<td></td>
</tr>
</tbody></table>
<h4 id="3-基础用户"><a href="#3-基础用户" class="headerlink" title="3.基础用户"></a>3.基础用户</h4><p>在安装过程会提示重新修改密码sys和system等默认开启的账户密码</p>
<table>
<thead>
<tr>
<th>用户</th>
<th>默认密码</th>
<th>作用</th>
<th>注意事项</th>
</tr>
</thead>
<tbody><tr>
<td>sys</td>
<td>change_on_install</td>
<td>拥有最高权限<code>dba</code>,不能用normal登录,执行数据库的管理任务，实例的数据字典都在<em>SYS</em>下</td>
<td>默认开启</td>
</tr>
<tr>
<td>system</td>
<td>manager</td>
<td>没有最高权限,只能用normal登录,用于执行数据库管理任务，有少量的实例对象</td>
<td>默认开启</td>
</tr>
<tr>
<td>scott</td>
<td>TIGER</td>
<td>测试账户,用户普通用户权限</td>
<td>没有scott用户则,可以手动执行:<a href="oracle\product\11.2.0\server\rdbms\admin\scott.sql">官方脚本</a>创建账户</td>
</tr>
<tr>
<td>internal</td>
<td>oracle</td>
<td></td>
<td></td>
</tr>
<tr>
<td>anmonymous</td>
<td>ANONYMOUS</td>
<td>用于访问<em>ORACLE XML DB</em>知识库的帐户。</td>
<td></td>
</tr>
<tr>
<td>dbsnmp</td>
<td>DBSNMP</td>
<td>具有<em>NNECT\RESOUCEHE\SNMPAGENT</em> 权限的角色，可用<em>CATNSMP.SQL</em>脚本删除此用户和角色</td>
<td></td>
</tr>
<tr>
<td>sysman</td>
<td>OEM_TEMP</td>
<td>企业管理器OEM密码</td>
<td></td>
</tr>
<tr>
<td>outln</td>
<td>OUTLN</td>
<td>有<em>CONNECT</em>和<em>RESOURCE</em>角色</td>
<td></td>
</tr>
</tbody></table>
<h4 id="4-权限角色"><a href="#4-权限角色" class="headerlink" title="4.权限角色"></a>4.权限角色</h4><p>oracle自创的权限集合</p>
<table>
<thead>
<tr>
<th>角色</th>
<th>作用</th>
<th>注意事项</th>
</tr>
</thead>
<tbody><tr>
<td>connect</td>
<td>连接角色</td>
<td>基本角色</td>
</tr>
<tr>
<td>resource</td>
<td>开发者角色</td>
<td></td>
</tr>
<tr>
<td>dba</td>
<td>超级管理员角色</td>
<td></td>
</tr>
</tbody></table>
<h3 id="3-其他内容"><a href="#3-其他内容" class="headerlink" title="3.其他内容"></a>3.其他内容</h3><h4 id="1-基本数据类型"><a href="#1-基本数据类型" class="headerlink" title="1.基本数据类型"></a>1.基本数据类型</h4><ol>
<li><p>基本数据类型</p>
<table>
<thead>
<tr>
<th>类型</th>
<th>含义</th>
<th>存储描述</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>VARCHAR2</td>
<td>可变长度的字符串,</td>
<td>0-4000bytes,可做索引的最大长度749</td>
<td>常用:oracle特有类型,考虑兼容性用varchar</td>
</tr>
<tr>
<td>NUMBER(m,n)</td>
<td>数字类型</td>
<td>m为总位数,n为小数位,m-n为整数位</td>
<td>常用:既可以存储整数,又可以存储小数</td>
</tr>
<tr>
<td>DATE</td>
<td>日期（日-月-年）</td>
<td>DD-MM-YY(HH-MI-SS)</td>
<td>常用:</td>
</tr>
<tr>
<td>CHAR</td>
<td>固定长度字符串</td>
<td>0-2000bytes</td>
<td></td>
</tr>
<tr>
<td>INTEGER</td>
<td>整数类型</td>
<td>小的整数</td>
<td></td>
</tr>
<tr>
<td>LONG</td>
<td>超长字符串</td>
<td>最大长度2G,足够存储大部头著作</td>
<td></td>
</tr>
<tr>
<td>FLOAT</td>
<td>浮点数类型</td>
<td>NUMBER(38)，双精度</td>
<td></td>
</tr>
<tr>
<td>TIMESTAMP</td>
<td>日期（日-月-年）</td>
<td>DD-MM-YY(HH-MI-SS:FF3)</td>
<td></td>
</tr>
<tr>
<td>DECIMAL(P,S)</td>
<td>数字类型</td>
<td>P为整数位，S为小数位</td>
<td></td>
</tr>
<tr>
<td>REAL</td>
<td>实数类型</td>
<td>NUMBER(63)，精度更高</td>
<td></td>
</tr>
<tr>
<td>NCHAR</td>
<td>根据字符集而定的固定长度字符串</td>
<td>0-2000bytes</td>
<td></td>
</tr>
<tr>
<td>NVARCHAR2</td>
<td>根据字符集而定的可变长度字符串</td>
<td>0-4000bytes</td>
<td>oracle特有类型,考虑兼容性用varchar</td>
</tr>
</tbody></table>
</li>
<li><p>二进制数据类型</p>
<table>
<thead>
<tr>
<th>类型</th>
<th>含义</th>
<th>存储描述</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>CLOB</td>
<td>字符数据</td>
<td>最大长度4G</td>
<td></td>
</tr>
<tr>
<td>BLOB</td>
<td>二进制数据</td>
<td>最大长度4G</td>
<td></td>
</tr>
<tr>
<td>NCLOB</td>
<td>根据字符集而定的字符数据</td>
<td>最大长度4G</td>
<td></td>
</tr>
<tr>
<td>BFILE</td>
<td>存放在数据库外的二进制数据</td>
<td>最大长度4G</td>
<td></td>
</tr>
<tr>
<td>RAW</td>
<td>固定长度的二进制数据</td>
<td>最大长度2000bytes</td>
<td>可存放多媒体图象声音等</td>
</tr>
<tr>
<td>LONG RAW</td>
<td>可变长度的二进制数据</td>
<td>最大长度2G</td>
<td>可存放多媒体图象声音等</td>
</tr>
<tr>
<td>ROWID</td>
<td>数据表中记录的唯一行号</td>
<td>10bytes</td>
<td><strong><em>\</em></strong>.<strong><em>.\</em></strong>格式，*为0或1</td>
</tr>
<tr>
<td>NROWID</td>
<td>二进制数据表中记录的唯一行号</td>
<td>最大长度4000bytes</td>
<td></td>
</tr>
</tbody></table>
</li>
</ol>
<h4 id="2-sql语句"><a href="#2-sql语句" class="headerlink" title="2.sql语句"></a>2.sql语句</h4><table>
<thead>
<tr>
<th>名称</th>
<th>名称</th>
<th>语句</th>
<th>注意事项</th>
</tr>
</thead>
<tbody><tr>
<td>DDL</td>
<td>数据定义语言</td>
<td>create/drop/alter</td>
<td></td>
</tr>
<tr>
<td>DML</td>
<td>数据操纵语言</td>
<td>insert/delete/update/select</td>
<td></td>
</tr>
<tr>
<td>DCL</td>
<td>数据控制语言</td>
<td>grant/revoke/事务/安全</td>
<td></td>
</tr>
</tbody></table>
<h4 id="3-约束"><a href="#3-约束" class="headerlink" title="3.约束"></a>3.约束</h4><p>详见mysql相关约束</p>
<h2 id="2-基础命令"><a href="#2-基础命令" class="headerlink" title="2.基础命令"></a>2.基础命令</h2><h3 id="1-表空间"><a href="#1-表空间" class="headerlink" title="1.表空间"></a>1.表空间</h3><ol start="3">
<li><p>创建表空间</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">tablespace</span> 表空间名 <span class="keyword">datafile</span> <span class="string">'路径\文件名.dbf'</span> <span class="keyword">size</span> 空间大小 [<span class="keyword">autoextend</span> <span class="keyword">on</span> <span class="keyword">next</span> <span class="number">10</span>m];</span><br></pre></td></tr></table></figure>
</li>
<li><p>创建用户并指定表空间</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">user</span> 用户名 identidfied <span class="keyword">by</span> 密码 defalult <span class="keyword">tablespace</span> 表空间名;</span><br></pre></td></tr></table></figure>
</li>
<li><p>给予用户权限</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">grant</span> 角色 <span class="keyword">to</span> 用户名;</span><br></pre></td></tr></table></figure>
</li>
<li><p>删除表空间</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">tablespace</span> 表空间名;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="2-表操作"><a href="#2-表操作" class="headerlink" title="2.表操作"></a>2.表操作</h3><ol>
<li><p>创建表</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> 表名(字段名<span class="number">1</span> 约束,字段名<span class="number">2</span> 约束...);</span><br></pre></td></tr></table></figure>
</li>
<li><p>从其他表拷贝结构</p>
<p>用户名.表名:从其他用户中导入</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> 表名 <span class="keyword">as</span> <span class="keyword">select</span>查询表结构;</span><br></pre></td></tr></table></figure>
</li>
<li><p>删除表</p>
<ol>
<li><p>彻底删除:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> person;</span><br></pre></td></tr></table></figure>
</li>
<li><p>初始化表:计数器重置,索引删除,不能用于视图,相当于删除以后重建</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">truncate</span> <span class="keyword">table</span> person;</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><p>查看当前用户下的所有表</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> table_name <span class="keyword">from</span> user_tables</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="3-记录操作"><a href="#3-记录操作" class="headerlink" title="3.记录操作"></a>3.记录操作</h3><p>默认使用了事务,建议使用commit</p>
<ol>
<li><p>增加记录</p>
<ul>
<li><p>标准写法</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> 表名 (列名<span class="number">1</span>,列名<span class="number">2.</span>..) <span class="keyword">values</span> (值<span class="number">1</span>,值<span class="number">2.</span>..)[,(值<span class="number">1</span>,值<span class="number">2.</span>..)...];</span><br></pre></td></tr></table></figure>
</li>
<li><p>简单写法</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> 表名 <span class="keyword">values</span> (值<span class="number">1</span>,值<span class="number">2.</span>..)[,(值<span class="number">1</span>,值<span class="number">2.</span>..)...];</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>修改记录</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">update</span> 表名 <span class="keyword">set</span> 列名<span class="number">1</span>=值<span class="number">1</span> [,值<span class="number">2</span>=值<span class="number">2.</span>..] [<span class="keyword">where</span> 条件];</span><br></pre></td></tr></table></figure>
</li>
<li><p>删除记录</p>
<p>不加条件默认删除所有记录</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> 表名 [<span class="keyword">where</span> 条件];</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="4-列操作"><a href="#4-列操作" class="headerlink" title="4.列操作"></a>4.列操作</h3><p>可以通过<code>(,)</code>进行分割添加修改多个字段</p>
<ol>
<li><p>添加记录</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> 表名 <span class="keyword">add</span> 列名 列类型;</span><br></pre></td></tr></table></figure>
</li>
<li><p>修改类型</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> 表名 <span class="keyword">modify</span> 原列名 新列类型</span><br></pre></td></tr></table></figure>
</li>
<li><p>修改名称</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> 表名 <span class="keyword">rename</span> <span class="keyword">column</span> 原列名 <span class="keyword">to</span> 新列名</span><br></pre></td></tr></table></figure>
</li>
<li><p>删除字段</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> 表名 <span class="keyword">drop</span> <span class="keyword">column</span> 列名</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="3-查询操作"><a href="#3-查询操作" class="headerlink" title="3.查询操作"></a>3.查询操作</h2><h3 id="1-查询函数"><a href="#1-查询函数" class="headerlink" title="1.查询函数"></a>1.查询函数</h3><h4 id="1-字符函数"><a href="#1-字符函数" class="headerlink" title="1.字符函数"></a>1.字符函数</h4><table>
<thead>
<tr>
<th>函数</th>
<th>作用</th>
<th>注意事项</th>
</tr>
</thead>
<tbody><tr>
<td>upper(‘字符’)</td>
<td>转换为大写字母</td>
<td>只处理英文字符,其他字符不做处理直接输出</td>
</tr>
<tr>
<td>lower(‘字符’)</td>
<td>转换为小写字母</td>
<td>只处理英文字符,其他字符不做处理直接输出</td>
</tr>
</tbody></table>
<h4 id="2-数字函数"><a href="#2-数字函数" class="headerlink" title="2.数字函数"></a>2.数字函数</h4><table>
<thead>
<tr>
<th>函数</th>
<th>作用</th>
<th>注意事项</th>
</tr>
</thead>
<tbody><tr>
<td>round(num,n)</td>
<td>四舍五入num,并保留n位</td>
<td>负数代表整数位,不写n代表0保存到个位,</td>
</tr>
<tr>
<td>trunc(num,n)</td>
<td>截取到有效位数</td>
<td>负数代表整数位,不写n代表0保存到个位,</td>
</tr>
<tr>
<td>mod(num,n)</td>
<td>求余数</td>
<td>一般不用</td>
</tr>
</tbody></table>
<h4 id="3-日期函数"><a href="#3-日期函数" class="headerlink" title="3.日期函数"></a>3.日期函数</h4><p>可以直接在时间上进行算数操作</p>
<table>
<thead>
<tr>
<th>函数</th>
<th>作用</th>
<th>注意事项</th>
</tr>
</thead>
<tbody><tr>
<td>sysdate</td>
<td>当前时间</td>
<td>单位天</td>
</tr>
<tr>
<td>months_between(d1,d2)</td>
<td>d2与d1之间时间差</td>
<td>单位月</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h4 id="4-转换函数"><a href="#4-转换函数" class="headerlink" title="4.转换函数"></a>4.转换函数</h4><table>
<thead>
<tr>
<th>函数</th>
<th>作用</th>
<th>注意事项</th>
</tr>
</thead>
<tbody><tr>
<td>to_char(时间,格式化)</td>
<td>将时间类型转化为char类型</td>
<td></td>
</tr>
<tr>
<td>to_date(‘时间’,格式化)</td>
<td>将char类型转化为时间类型</td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h5 id="格式化"><a href="#格式化" class="headerlink" title="格式化"></a>格式化</h5><p>不区分大小写</p>
<table>
<thead>
<tr>
<th>格式化</th>
<th>作用</th>
<th>注意事项</th>
</tr>
</thead>
<tbody><tr>
<td>YYYY</td>
<td>年</td>
<td>几个Y显示几位数</td>
</tr>
<tr>
<td>MM</td>
<td>月</td>
<td></td>
</tr>
<tr>
<td>DD</td>
<td>日</td>
<td>一个D:周几,三个D:一年中第几天</td>
</tr>
<tr>
<td>HH12/HH</td>
<td>12小时</td>
<td></td>
</tr>
<tr>
<td>HH24</td>
<td>24小时</td>
<td></td>
</tr>
<tr>
<td>MI</td>
<td>分钟</td>
<td></td>
</tr>
<tr>
<td>SS</td>
<td>秒</td>
<td></td>
</tr>
</tbody></table>
<h4 id="5-通用函数"><a href="#5-通用函数" class="headerlink" title="5.通用函数"></a>5.通用函数</h4><table>
<thead>
<tr>
<th>函数</th>
<th>作用</th>
<th>注意事项</th>
</tr>
</thead>
<tbody><tr>
<td>nvl(a,b)</td>
<td>如果a为null则显示b</td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h4 id="6-多行函数"><a href="#6-多行函数" class="headerlink" title="6.多行函数"></a>6.多行函数</h4><p>聚合函数:需要查询1条或多条记录</p>
<table>
<thead>
<tr>
<th>函数名</th>
<th>作用</th>
<th>注意事项</th>
</tr>
</thead>
<tbody><tr>
<td>count()</td>
<td>统计记录数</td>
<td></td>
</tr>
<tr>
<td>max()</td>
<td>最大值</td>
<td></td>
</tr>
<tr>
<td>min()</td>
<td>最小值</td>
<td></td>
</tr>
<tr>
<td>avg()</td>
<td>平均值</td>
<td></td>
</tr>
<tr>
<td>sum()</td>
<td>求和</td>
<td></td>
</tr>
</tbody></table>
<h3 id="2-条件表达式"><a href="#2-条件表达式" class="headerlink" title="2.条件表达式"></a>2.条件表达式</h3><h4 id="1-case表达式"><a href="#1-case表达式" class="headerlink" title="1.case表达式"></a>1.case表达式</h4><ol>
<li><p>当查询结果有<code>数值1</code>时用<code>替代值1</code>代替</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> [字段,]</span><br><span class="line">	<span class="keyword">case</span> 字段</span><br><span class="line">		<span class="keyword">when</span> <span class="string">'数值1'</span> <span class="keyword">then</span> <span class="string">'替代值1'</span></span><br><span class="line">			<span class="keyword">when</span> <span class="string">'数值2'</span> <span class="keyword">then</span> <span class="string">'替代值2'</span></span><br><span class="line">				....</span><br><span class="line">					[<span class="keyword">else</span> <span class="string">'替代值3'</span>]</span><br><span class="line">					<span class="keyword">end</span></span><br><span class="line"><span class="keyword">from</span> 表名;</span><br></pre></td></tr></table></figure>
</li>
<li><p>当查询结果在某个范围时用替代值代替</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> [字段,]</span><br><span class="line">	<span class="keyword">case</span></span><br><span class="line">		<span class="keyword">when</span> 字段&lt;x <span class="keyword">then</span> <span class="string">'替代值1'</span></span><br><span class="line">			<span class="keyword">when</span> 字段&lt;y <span class="keyword">then</span> <span class="string">'替代值1'</span></span><br><span class="line">				...</span><br><span class="line">					[<span class="keyword">else</span> <span class="string">'替代值3'</span>]</span><br><span class="line">						<span class="keyword">end</span></span><br><span class="line"><span class="keyword">from</span> 表名;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h4 id="2-decode函数-不推荐"><a href="#2-decode函数-不推荐" class="headerlink" title="2.decode函数[不推荐]"></a>2.decode函数[不推荐]</h4><p>oracle专用函数,要与<code>sign</code>联合使用才能使用范围</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> [字段,]</span><br><span class="line">	<span class="keyword">decode</span>(</span><br><span class="line">    	字段,</span><br><span class="line">		<span class="string">'数值1'</span>,<span class="string">'替代值1'</span>,</span><br><span class="line">			<span class="string">'数值2'</span>,<span class="string">'替代值2'</span>,</span><br><span class="line">				....</span><br><span class="line">					<span class="string">'替代值3'</span></span><br><span class="line">    ) [[<span class="keyword">as</span>] 别名]</span><br><span class="line"><span class="keyword">from</span> 表名;</span><br></pre></td></tr></table></figure>

<h3 id="3-关联查询"><a href="#3-关联查询" class="headerlink" title="3.关联查询"></a>3.关联查询</h3><p>​    可以使用<code>A.*=B.*</code>代表一个表的所有信息；</p>
<h4 id="1-等值连接-不推荐"><a href="#1-等值连接-不推荐" class="headerlink" title="1.等值连接[不推荐]"></a>1.等值连接[不推荐]</h4><p>内部会生成笛卡尔积的表,增加负担,查询结果跟内连接相同,都是现实两表相关联的数据(不存在的不显示)</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> A,B <span class="keyword">where</span> A.x=B.x;</span><br></pre></td></tr></table></figure>

<h4 id="2-内连接"><a href="#2-内连接" class="headerlink" title="2.内连接"></a>2.内连接</h4><ol>
<li><p>无关联关系</p>
<p>先书写A表数据,依次与B表字段交叉</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> A <span class="keyword">join</span> B;</span><br></pre></td></tr></table></figure>
</li>
<li><p>有关联关系</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> 表<span class="number">1</span> [<span class="keyword">inner</span>] <span class="keyword">join</span> 表<span class="number">2</span> <span class="keyword">on</span> 表<span class="number">1.</span>x=表<span class="number">2.</span>x;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h4 id="3-外连接"><a href="#3-外连接" class="headerlink" title="3.外连接"></a>3.外连接</h4><ol>
<li><p>sql通用语法</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> 表<span class="number">1</span> [<span class="keyword">left</span>/<span class="keyword">right</span>] <span class="keyword">join</span> 表<span class="number">2</span> <span class="keyword">on</span> 表<span class="number">1.</span>x=表<span class="number">2.</span>x;</span><br></pre></td></tr></table></figure>
</li>
<li><p>oracle专属语法</p>
<ol>
<li><p>左连接</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> 表<span class="number">1</span>,表<span class="number">2</span> <span class="keyword">where</span> 表<span class="number">1.</span>x = 表<span class="number">2.</span>x(+);</span><br></pre></td></tr></table></figure>
</li>
<li><p>右连接</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> 表<span class="number">1</span>,表<span class="number">2</span> <span class="keyword">where</span> 表<span class="number">1.</span>x(+) = 表<span class="number">2.</span>x;</span><br></pre></td></tr></table></figure>

</li>
</ol>
</li>
</ol>
<h4 id="4-自关联"><a href="#4-自关联" class="headerlink" title="4.自关联"></a>4.自关联</h4><p>表内字段1与字段2存关联关系,虚拟两张以字段1和字段2为主键的表</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> 表名<span class="number">1</span> 别名<span class="number">1</span> <span class="keyword">join</span> 表名<span class="number">1</span> 别名<span class="number">2</span> <span class="keyword">on</span> 别名<span class="number">1.</span>字段<span class="number">1</span> = 别名<span class="number">2.</span>字段<span class="number">2</span>;</span><br></pre></td></tr></table></figure>

<h4 id="5-笛卡尔积-无实际意义"><a href="#5-笛卡尔积-无实际意义" class="headerlink" title="5.笛卡尔积[无实际意义]"></a>5.笛卡尔积[无实际意义]</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> 表<span class="number">1</span>,表<span class="number">2</span>;</span><br></pre></td></tr></table></figure>

<h3 id="4-其他查询"><a href="#4-其他查询" class="headerlink" title="4.其他查询"></a>4.其他查询</h3><h4 id="1-分组查询"><a href="#1-分组查询" class="headerlink" title="1.分组查询"></a>1.分组查询</h4><p>oracle中的注意事项:mysql无需注意</p>
<ol>
<li><p>只有<code>group by</code>后的列名和被聚合函数修饰的列名,才能出现在<code>select</code>后面;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select * from 表名 group by 列名;</span><br></pre></td></tr></table></figure>
</li>
<li><p>条件不能使用列名的别名</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select 列名1 别名1 from 表名 group by 列名 having 别名1&gt;200;</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>where</code>只能在表名后,<code>having</code>只能在<code>group by 列名</code>后使用</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> 列名,聚合函数(列名) <span class="keyword">from</span> 表名 [<span class="keyword">where</span>] <span class="keyword">group</span> <span class="keyword">by</span> 列名 [<span class="keyword">having</span>];</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h4 id="2-子查询"><a href="#2-子查询" class="headerlink" title="2.子查询"></a>2.子查询</h4><ol>
<li><p>通过子查询创建表</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> 表名 <span class="keyword">as</span> [(]<span class="keyword">select</span> * <span class="keyword">from</span> 表名[)];</span><br></pre></td></tr></table></figure>



</li>
</ol>
<h4 id="3-分页查询"><a href="#3-分页查询" class="headerlink" title="3.分页查询"></a>3.分页查询</h4><h2 id="4-其他功能"><a href="#4-其他功能" class="headerlink" title="4.其他功能"></a>4.其他功能</h2><h3 id="1-序列"><a href="#1-序列" class="headerlink" title="1.序列"></a>1.序列</h3><ol>
<li><p>创建序列</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">sequence</span> 序列名 [选项<span class="number">1</span>,选项<span class="number">2.</span>..];</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>选项</th>
<th>作用</th>
<th>默认值</th>
<th>注意事项</th>
</tr>
</thead>
<tbody><tr>
<td>increment by n</td>
<td>设置增量为n</td>
<td>1</td>
<td></td>
</tr>
<tr>
<td>start with n</td>
<td>设置起始位置n</td>
<td>MINVALUE</td>
<td></td>
</tr>
<tr>
<td>minvalue n</td>
<td>设置最小值n</td>
<td>1</td>
<td></td>
</tr>
<tr>
<td>maxvalue n</td>
<td>设置最大值n</td>
<td>最大值</td>
<td></td>
</tr>
<tr>
<td>cache n</td>
<td>设置预缓存个数</td>
<td>20</td>
<td>当目前为a时,缓存到a+n</td>
</tr>
<tr>
<td>cycle/nocycle</td>
<td>是否循环</td>
<td></td>
<td>当设置minvalue和maxvalue时使用,如果设置cycle到极限循环,反之报错</td>
</tr>
<tr>
<td>order/noorder</td>
<td>是否按照顺序</td>
<td></td>
<td></td>
</tr>
</tbody></table>
</li>
<li><p>获得序列内容</p>
<p>dual:虚表,用于补全查询语法无实际作用</p>
<ol>
<li><p>获取下一个内容</p>
<p>在添加记录时使用<code>序列名.nextval</code>替代原先手写的序列值</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> 序列名.nextval <span class="keyword">from</span> dual</span><br></pre></td></tr></table></figure>
</li>
<li><p>获取当前内容</p>
<p>初始序列不能直接查看当前值,因为当前值还没有创建,必须先<code>获取下一内容</code>然后再查询否则会报错</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> 序列名.currval <span class="keyword">from</span> dual</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><p>删除序列</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">sequence</span> 序列名;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="2-视图"><a href="#2-视图" class="headerlink" title="2.视图"></a>2.视图</h3><p>创建一个通过<code>查询语句</code>创建出来的同步原表的虚表(实际不存在),并因此修改视图就是在修改原表可用于同步/屏蔽表中关键字段</p>
<ol>
<li><p>创建视图</p>
<ol>
<li><p>创建读写视图</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> [<span class="keyword">or</span> <span class="keyword">replace</span>] <span class="keyword">view</span> 视图名 <span class="keyword">as</span> 查询语句</span><br></pre></td></tr></table></figure>
</li>
<li><p>创建只读视图</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> [<span class="keyword">or</span> <span class="keyword">replace</span>] <span class="keyword">view</span> 视图名 <span class="keyword">as</span> 查询语句 <span class="keyword">with</span> <span class="keyword">read</span> <span class="keyword">only</span>;</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><p>删除视图</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">view</span> 视图名;</span><br></pre></td></tr></table></figure>
</li>
<li><p>修改视图[不推荐]</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">update</span> 视图名 <span class="keyword">set</span> 列名=列值 [条件];</span><br></pre></td></tr></table></figure>
</li>
<li><p>查看所有视图</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> user_views;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="3-索引"><a href="#3-索引" class="headerlink" title="3.索引"></a>3.索引</h3><p>索引就是在表的列上构建一个二叉树,达到大幅度提高查询速率的目的,但是索引会影响增删改的效率</p>
<ol>
<li><p>创建单列索引</p>
<ol>
<li><p>创建语法</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">index</span> 索引名 <span class="keyword">on</span> 表名(列名);</span><br></pre></td></tr></table></figure>
</li>
<li><p>触发语法</p>
<p>单行函数,模糊查询都会影响索引的触发.只有列名相同且<code>&quot;x&quot;</code>是该列的值</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> <span class="keyword">where</span> 列名=<span class="string">"x"</span>;</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><p>创建复合索引</p>
<ol>
<li><p>创建语法</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">index</span> 索引名 <span class="keyword">on</span> 表名(列名<span class="number">1</span>,列名<span class="number">2</span>[,...])</span><br></pre></td></tr></table></figure>
</li>
<li><p>触发语句</p>
<p><code>列名1</code>为优先索引,查询条件只有包含<code>列名1</code>=”列名值”才能触发,且<code>x</code>包含在列值中</p>
<p>or时不触发索引</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> 表名 <span class="keyword">where</span> 列名<span class="number">1</span>=<span class="string">"x"</span> <span class="keyword">and</span> 列名<span class="number">2</span>=<span class="string">"y"</span>;</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><p>删除索引</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">index</span> 索引名;</span><br></pre></td></tr></table></figure>
</li>
<li><p>查看索引</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> user_indexes;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="5-数据库管理"><a href="#5-数据库管理" class="headerlink" title="5.数据库管理"></a>5.数据库管理</h2><h3 id="1-用户"><a href="#1-用户" class="headerlink" title="1.用户"></a>1.用户</h3><p>要在dba角色权限之下进行操作</p>
<ol>
<li><p>创建用户</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">user</span> 用户名 identidfied <span class="keyword">by</span> 密码 defalult <span class="keyword">tablespace</span> 表空间名;</span><br><span class="line"><span class="keyword">grant</span> 角色 <span class="keyword">to</span> 用户名;</span><br></pre></td></tr></table></figure>
</li>
<li><p>删除用户</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">user</span> 用户名 <span class="keyword">cascade</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>查看用户信息</p>
<p>用户的信息存储在dba_users表中</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> dba_users;</span><br></pre></td></tr></table></figure>
</li>
<li><p>锁用户</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">user</span> scott <span class="keyword">account</span> <span class="keyword">unlock</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>重置用户密码</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">user</span> scott indetidied <span class="keyword">by</span> tiger;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="2-sqlplus"><a href="#2-sqlplus" class="headerlink" title="2.sqlplus"></a>2.sqlplus</h3><p>oracle自带的命令行客户端</p>
<ol>
<li><p>启动sqlplus</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sqlplus /nolog</span><br></pre></td></tr></table></figure>
</li>
<li><p>连接数据库</p>
<ol>
<li><p>常规输入</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conn 用户名/密码@地址 as sysdba;</span><br></pre></td></tr></table></figure>
</li>
<li><p>防偷窥无密码输入</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conn 用户名/@地址 as sysdba</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><p>退出连接</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">exit</span><br></pre></td></tr></table></figure>
</li>
<li><p>查看表结构</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">desc[ribe] 表名</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="3-pl-sql"><a href="#3-pl-sql" class="headerlink" title="3.pl/sql"></a>3.pl/sql</h3><h4 id="1-基础语法"><a href="#1-基础语法" class="headerlink" title="1.基础语法"></a>1.基础语法</h4><ol>
<li><p>声明方法</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">declare</span></span><br><span class="line">       i <span class="built_in">number</span>(<span class="number">2</span>) :=<span class="number">10</span>;  	<span class="comment">---直接赋值</span></span><br><span class="line">       ena emp.ename%type;	<span class="comment">---引用型变量</span></span><br><span class="line">       emprow emp%rowtype;	<span class="comment">---记录型变量</span></span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">       dbms_output.put_line(i);<span class="comment">---输出</span></span><br><span class="line">       <span class="keyword">select</span> ename <span class="keyword">into</span> ena <span class="keyword">from</span> emp <span class="keyword">where</span> empno = <span class="number">7369</span>;</span><br><span class="line">       dbms_output.put_line(ena);</span><br><span class="line">       <span class="keyword">select</span> * <span class="keyword">into</span> emprow <span class="keyword">from</span> emp <span class="keyword">where</span> empno = <span class="number">7369</span>;</span><br><span class="line">       dbms_output.put_line('姓名:' || emprow.ename || '工作' || emprow.job);   </span><br><span class="line"><span class="keyword">end</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>if语句</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">declare</span></span><br><span class="line">       i <span class="built_in">number</span>(<span class="number">3</span>) := &amp;ii;</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">  <span class="keyword">if</span> i&lt;<span class="number">18</span> <span class="keyword">then</span></span><br><span class="line">    dbms_output.put_line(<span class="string">'未成年'</span>);</span><br><span class="line">    elsif i&lt;40 then</span><br><span class="line">      dbms_output.put_line('中年人');</span><br><span class="line">      else</span><br><span class="line">        dbms_output.put_line('老年人');</span><br><span class="line">        <span class="keyword">end</span> <span class="keyword">if</span>;</span><br><span class="line"><span class="keyword">end</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>loop循环</p>
<ol>
<li><p>while循环</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">declare</span><br><span class="line">        i number(2) := 1;</span><br><span class="line">begin</span><br><span class="line">        while i&lt;11 loop</span><br><span class="line">              dbms_output.put_line(i);</span><br><span class="line">              i:= i+1;</span><br><span class="line">        end loop;</span><br><span class="line">end;</span><br></pre></td></tr></table></figure>
</li>
<li><p>exit退出循环</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">declare</span><br><span class="line">        i number(2) := 1;</span><br><span class="line">begin</span><br><span class="line">        loop</span><br><span class="line">          exit when i&gt;10;</span><br><span class="line">          dbms_output.put_line(i);</span><br><span class="line">          i:= i+1;</span><br><span class="line">        end loop;</span><br><span class="line">end;</span><br></pre></td></tr></table></figure>
</li>
<li><p>for循环</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">declare</span><br><span class="line">       </span><br><span class="line">begin</span><br><span class="line">         for i in 1..10 loop</span><br><span class="line">             dbms_output.put_line(i);</span><br><span class="line">         end loop;</span><br><span class="line">end;</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><p>游标:对象</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">declare</span><br><span class="line">         cursor yb is select * from emp;</span><br><span class="line">         emprow emp%rowtype;    </span><br><span class="line">begin</span><br><span class="line">         open yb;</span><br><span class="line">              loop</span><br><span class="line">                   fetch yb into emprow;</span><br><span class="line">                   exit when yb%notfound;</span><br><span class="line">                   dbms_output.put_line(emprow.ename);</span><br><span class="line">              end loop;</span><br><span class="line">         close yb;</span><br><span class="line">end;</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">declare</span></span><br><span class="line">         <span class="keyword">cursor</span> c2(eno emp.deptno%<span class="keyword">type</span>) </span><br><span class="line">         <span class="keyword">is</span> <span class="keyword">select</span> empno <span class="keyword">from</span> emp <span class="keyword">where</span> deptno =eno;</span><br><span class="line">         en emp.empno%type;</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">         <span class="keyword">open</span> c2(<span class="number">10</span>);</span><br><span class="line">              loop</span><br><span class="line">                fetch c2 into en;</span><br><span class="line">                exit when c2%notfound;</span><br><span class="line">                <span class="keyword">update</span> emp <span class="keyword">set</span> sal=sal+<span class="number">100</span> <span class="keyword">where</span> empno=en;</span><br><span class="line">                <span class="keyword">commit</span>;</span><br><span class="line">              <span class="keyword">end</span> <span class="keyword">loop</span>;</span><br><span class="line">         close c2;</span><br><span class="line"><span class="keyword">end</span>;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h4 id="2-存储过程"><a href="#2-存储过程" class="headerlink" title="2.存储过程"></a>2.存储过程</h4><p>类似于无返回值方法</p>
<ol>
<li><p>创建存储过程</p>
<p>默认<code>in</code>,被<code>into</code>或<code>:=</code>赋值必须使用<code>out</code></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> [<span class="keyword">or</span> <span class="keyword">replace</span>] <span class="keyword">procedure</span> 存储过程名 [<span class="keyword">out</span>/<span class="keyword">in</span>] [(参数,参数)]</span><br><span class="line"><span class="keyword">is</span></span><br><span class="line">	声明;</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">	pl/<span class="keyword">sql</span>语句;</span><br><span class="line"><span class="keyword">end</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>调用存储过程</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">declare</span></span><br><span class="line">	声明;</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">	存储过程名(参数);</span><br><span class="line"><span class="keyword">end</span>;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h4 id="3-存储函数"><a href="#3-存储函数" class="headerlink" title="3.存储函数"></a>3.存储函数</h4><p>类似有返回值方法</p>
<ol>
<li><p>创建存储函数</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">or</span> <span class="keyword">replace</span> <span class="keyword">function</span> 存储函数名[(参数)] <span class="keyword">return</span> 返回类型</span><br><span class="line"><span class="keyword">is</span></span><br><span class="line">	声明;</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">	<span class="keyword">return</span> 返回值;</span><br><span class="line"><span class="keyword">end</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>调用存储函数</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> 存储函数(参数) <span class="keyword">from</span> 表名;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h4 id="4-触发器"><a href="#4-触发器" class="headerlink" title="4.触发器"></a>4.触发器</h4><p>就是执行一个规则,在我们做增删改操作的时候,只要满足该规则,自动触发;</p>
<ol>
<li><p>创建语句触发器</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> [<span class="keyword">or</span> <span class="keyword">replace</span>] <span class="keyword">trigger</span> 触发器名</span><br><span class="line"><span class="keyword">after</span>/<span class="keyword">before</span></span><br><span class="line"><span class="keyword">insert</span>/<span class="keyword">update</span>/<span class="keyword">delete</span></span><br><span class="line"><span class="keyword">on</span> 表名</span><br><span class="line"><span class="keyword">declare</span></span><br><span class="line">	声明;</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">	操作;</span><br><span class="line"><span class="keyword">end</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>创建行级触发器</p>
<p>raise_application_error函数,可以输出<code>-200001~-209999</code>错误编号,和错误信息</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> [<span class="keyword">or</span> <span class="keyword">replace</span>] <span class="keyword">trigger</span> 触发器名</span><br><span class="line"><span class="keyword">after</span>/<span class="keyword">before</span></span><br><span class="line"><span class="keyword">insert</span>/<span class="keyword">update</span>/<span class="keyword">delete</span></span><br><span class="line"><span class="keyword">on</span> 表名</span><br><span class="line"><span class="keyword">for</span> <span class="keyword">each</span> <span class="keyword">row</span></span><br><span class="line"><span class="keyword">declare</span></span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">   <span class="keyword">if</span> :old.sal&gt;:new.sal <span class="keyword">then</span></span><br><span class="line">     raise_application_error(<span class="number">-200001</span>,<span class="string">'不能给员工降薪'</span>);</span><br><span class="line">   <span class="keyword">end</span> <span class="keyword">if</span>;</span><br><span class="line"><span class="keyword">end</span>;</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>触发语句</th>
<th>:old</th>
<th>:new</th>
</tr>
</thead>
<tbody><tr>
<td>Insert</td>
<td>null</td>
<td>插入后内容</td>
</tr>
<tr>
<td>Update</td>
<td>更新前内容</td>
<td>更新后内容</td>
</tr>
<tr>
<td>Delete</td>
<td>删除前内容</td>
<td>null</td>
</tr>
</tbody></table>
</li>
<li><p>实现自增主键[案例]</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">---触发器</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">or</span> <span class="keyword">replace</span> <span class="keyword">trigger</span> 触发器名</span><br><span class="line"><span class="keyword">before</span></span><br><span class="line"><span class="keyword">insert</span></span><br><span class="line"><span class="keyword">on</span> 表名x</span><br><span class="line"><span class="keyword">for</span> <span class="keyword">each</span> <span class="keyword">row</span></span><br><span class="line"><span class="keyword">declare</span></span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">	<span class="keyword">select</span> 触发器名.nextval <span class="keyword">into</span> 表名x.主键名 <span class="keyword">from</span> dual;</span><br><span class="line"><span class="keyword">end</span>;</span><br><span class="line"><span class="comment">---触发语句</span></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> 表名x <span class="keyword">value</span>(主键随机写);</span><br></pre></td></tr></table></figure>

</li>
</ol>

            <div class="post-copyright">
    <div class="content">
        <p>最后更新： 2019年11月06日 11:36</p>
        <p>原始链接： <a class="post-url" href="/2019/11/01/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle/" title="Oracle">https://airbash.cn/2019/11/01/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle/</a></p>
        <footer>
            <a href="https://airbash.cn">
                <img src="/images/logo.png" alt="ZSP">
                ZSP
            </a>
        </footer>
    </div>
</div>

      
        
            
<div class="page-reward">
    <a id="rewardBtn" href="javascript:;">赏</a>
</div>

<div id="reward" class="post-modal reward-lay">
    <a class="close" href="javascript:;" id="reward-close">×</a>
    <span class="reward-title">
        <i class="icon icon-quote-left"></i>
        请我吃糖~
        <i class="icon icon-quote-right"></i>
    </span>
    <div class="reward-content">
        
        <div class="reward-code">
            <img id="rewardCode" src="/images/wechat_code.jpg" alt="打赏二维码">
        </div>
        <div class="reward-select">
            
            <label class="reward-select-item checked" data-id="wechat" data-wechat="/images/wechat_code.jpg">
                <img class="reward-select-item-wechat" src="/images/wechat.png" alt="微信">
            </label>
            
            
            <label class="reward-select-item" data-id="alipay" data-alipay="/images/alipay_code.jpg">
                <img class="reward-select-item-alipay" src="/images/alipay.png" alt="支付宝">
            </label>
            
        </div>
    </div>
</div>


        
    </div>
    <footer class="article-footer">
        
        
<div class="post-share">
    <a href="javascript:;" id="share-sub" class="post-share-fab">
        <i class="fa fa-share-alt"></i>
    </a>
    <div class="post-share-list" id="share-list">
        <ul class="share-icons">
          <li>
            <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://airbash.cn/2019/11/01/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle/&title=《Oracle》 — ZSP's Blog&pic=../images/logo/OracleLogo.jpg" data-title="微博">
              <i class="fa fa-weibo"></i>
            </a>
          </li>
          <li>
            <a class="weixin share-sns" id="wxFab" href="javascript:;" data-title="微信">
              <i class="fa fa-weixin"></i>
            </a>
          </li>
          <li>
            <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://airbash.cn/2019/11/01/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle/&title=《Oracle》 — ZSP's Blog&source=专注 JAVA 开发的技术博客" data-title="QQ">
              <i class="fa fa-qq"></i>
            </a>
          </li>
          <li>
            <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://airbash.cn/2019/11/01/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle/" data-title="Facebook">
              <i class="fa fa-facebook"></i>
            </a>
          </li>
          <li>
            <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《Oracle》 — ZSP's Blog&url=https://airbash.cn/2019/11/01/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle/&via=https://airbash.cn" data-title="Twitter">
              <i class="fa fa-twitter"></i>
            </a>
          </li>
          <li>
            <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://airbash.cn/2019/11/01/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle/" data-title="Google+">
              <i class="fa fa-google-plus"></i>
            </a>
          </li>
        </ul>
     </div>
</div>
<div class="post-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;" id="wxShare-close">×</a>
    <p>扫一扫，分享到微信</p>
    <img src="//api.qrserver.com/v1/create-qr-code/?data=https://airbash.cn/2019/11/01/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle/" alt="微信分享二维码">
</div>

<div class="mask"></div>

        
        <ul class="article-footer-menu">
            
            
  <li class="article-footer-tags">
    <i class="fa fa-tags"></i>
      
    <a href="/tags/数据库/" class="color4">数据库</a>
      
    <a href="/tags/Oracle/" class="color2">Oracle</a>
      
  </li>

        </ul>
        
    </footer>
  </div>
</article>


    <aside class="post-toc-pos post-toc-top" id="post-toc">
        <nav class="post-toc-wrap">
            <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#1-基础内容"><span class="post-toc-text">1.基础内容</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#1-基础配置"><span class="post-toc-text">1.基础配置</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#1-下载安装"><span class="post-toc-text">1.下载安装</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#2-启动关闭"><span class="post-toc-text">2.启动关闭</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#3-配置文件"><span class="post-toc-text">3.配置文件</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#1-基础配置文件"><span class="post-toc-text">1.基础配置文件</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#2-三大配置文件"><span class="post-toc-text">2.三大配置文件</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2-基础知识"><span class="post-toc-text">2.基础知识</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#1-注意事项"><span class="post-toc-text">1.注意事项</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#2-体系结构"><span class="post-toc-text">2.体系结构</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#3-基础用户"><span class="post-toc-text">3.基础用户</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#4-权限角色"><span class="post-toc-text">4.权限角色</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#3-其他内容"><span class="post-toc-text">3.其他内容</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#1-基本数据类型"><span class="post-toc-text">1.基本数据类型</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#2-sql语句"><span class="post-toc-text">2.sql语句</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#3-约束"><span class="post-toc-text">3.约束</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#2-基础命令"><span class="post-toc-text">2.基础命令</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#1-表空间"><span class="post-toc-text">1.表空间</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2-表操作"><span class="post-toc-text">2.表操作</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#3-记录操作"><span class="post-toc-text">3.记录操作</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#4-列操作"><span class="post-toc-text">4.列操作</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#3-查询操作"><span class="post-toc-text">3.查询操作</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#1-查询函数"><span class="post-toc-text">1.查询函数</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#1-字符函数"><span class="post-toc-text">1.字符函数</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#2-数字函数"><span class="post-toc-text">2.数字函数</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#3-日期函数"><span class="post-toc-text">3.日期函数</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#4-转换函数"><span class="post-toc-text">4.转换函数</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#格式化"><span class="post-toc-text">格式化</span></a></li></ol></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#5-通用函数"><span class="post-toc-text">5.通用函数</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#6-多行函数"><span class="post-toc-text">6.多行函数</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2-条件表达式"><span class="post-toc-text">2.条件表达式</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#1-case表达式"><span class="post-toc-text">1.case表达式</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#2-decode函数-不推荐"><span class="post-toc-text">2.decode函数[不推荐]</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#3-关联查询"><span class="post-toc-text">3.关联查询</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#1-等值连接-不推荐"><span class="post-toc-text">1.等值连接[不推荐]</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#2-内连接"><span class="post-toc-text">2.内连接</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#3-外连接"><span class="post-toc-text">3.外连接</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#4-自关联"><span class="post-toc-text">4.自关联</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#5-笛卡尔积-无实际意义"><span class="post-toc-text">5.笛卡尔积[无实际意义]</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#4-其他查询"><span class="post-toc-text">4.其他查询</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#1-分组查询"><span class="post-toc-text">1.分组查询</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#2-子查询"><span class="post-toc-text">2.子查询</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#3-分页查询"><span class="post-toc-text">3.分页查询</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#4-其他功能"><span class="post-toc-text">4.其他功能</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#1-序列"><span class="post-toc-text">1.序列</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2-视图"><span class="post-toc-text">2.视图</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#3-索引"><span class="post-toc-text">3.索引</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#5-数据库管理"><span class="post-toc-text">5.数据库管理</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#1-用户"><span class="post-toc-text">1.用户</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2-sqlplus"><span class="post-toc-text">2.sqlplus</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#3-pl-sql"><span class="post-toc-text">3.pl/sql</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#1-基础语法"><span class="post-toc-text">1.基础语法</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#2-存储过程"><span class="post-toc-text">2.存储过程</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#3-存储函数"><span class="post-toc-text">3.存储函数</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#4-触发器"><span class="post-toc-text">4.触发器</span></a></li></ol></li></ol></li></ol>
        </nav>
    </aside>
    

<nav id="article-nav">
  
    <a href="/2019/11/01/%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/" id="article-nav-newer" class="article-nav-link-wrap">

      <span class="article-nav-title">
        <i class="fa fa-hand-o-left" aria-hidden="true"></i>
        
          Redis
        
      </span>
    </a>
  
  
    <a href="/2019/10/31/%E6%95%B0%E6%8D%AE%E5%BA%93/Mysql/" id="article-nav-older" class="article-nav-link-wrap">
      <span class="article-nav-title">Mysql</span>
      <i class="fa fa-hand-o-right" aria-hidden="true"></i>
    </a>
  
</nav>



    
</section>
        
      </div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info" class="inner">
      

      <p>
        Powered by  <a href="http://hexo.io/" target="_blank">Hexo</a>
        Theme <a href="https://github.com/AirBashX/hexo-theme-airbash" target="_blank">AirBash</a>
        &copy; 2019 ZSP<br>
        鲁ICP备18041747号<br>
      </p>
    </div>
  </div>
</footer>
    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<script src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
<script>
  var mihoConfig = {
      root: "https://airbash.cn",
      animate: true,
      isHome: false,
      share: true,
      reward: 1
  }
</script>
<div class="sidebar">
    <div id="sidebar-search" title="Search">
        <i class="fa fa-search"></i>
    </div>
    <div id="sidebar-category" title="Categories">
        <i class="fa fa-book"></i>
    </div>
    <div id="sidebar-tag" title="Tags">
        <i class="fa fa-tags"></i>
    </div>
    <div id="sidebar-top">
        <span class="sidebar-top-icon"><i class="fa fa-angle-up"></i></span>
    </div>
</div>
<div class="sidebar-menu-box" id="sidebar-menu-box">
    <div class="sidebar-menu-box-container">
        <div id="sidebar-menu-box-categories">
            <a class="category-link" href="/categories/Apache/">Apache</a><a class="category-link" href="/categories/Hexo/">Hexo</a><a class="category-link" href="/categories/IDE/">IDE</a><a class="category-link" href="/categories/JAVA/">JAVA</a><a class="category-link" href="/categories/Markdown/">Markdown</a><a class="category-link" href="/categories/MyBatis/">MyBatis</a><a class="category-link" href="/categories/PowerShell/">PowerShell</a><a class="category-link" href="/categories/Spring/">Spring</a><a class="category-link" href="/categories/%E5%89%8D%E7%AB%AF/">前端</a><a class="category-link" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a><a class="category-link" href="/categories/%E7%89%88%E6%9C%AC%E7%AE%A1%E7%90%86/">版本管理</a><a class="category-link" href="/categories/%E8%BF%90%E7%BB%B4/">运维</a>
        </div>
        <div id="sidebar-menu-box-tags">
            <a href="/tags/Apache/" style="font-size: 12px;">Apache</a> <a href="/tags/Git/" style="font-size: 10px;">Git</a> <a href="/tags/Hexo/" style="font-size: 12px;">Hexo</a> <a href="/tags/IDE/" style="font-size: 10px;">IDE</a> <a href="/tags/JAVA/" style="font-size: 20px;">JAVA</a> <a href="/tags/Jquery/" style="font-size: 10px;">Jquery</a> <a href="/tags/Lucene/" style="font-size: 10px;">Lucene</a> <a href="/tags/Markdown/" style="font-size: 12px;">Markdown</a> <a href="/tags/Maven/" style="font-size: 10px;">Maven</a> <a href="/tags/Mysql/" style="font-size: 10px;">Mysql</a> <a href="/tags/Oracle/" style="font-size: 10px;">Oracle</a> <a href="/tags/PowerShell/" style="font-size: 10px;">PowerShell</a> <a href="/tags/Redis/" style="font-size: 12px;">Redis</a> <a href="/tags/SVN/" style="font-size: 10px;">SVN</a> <a href="/tags/Spring/" style="font-size: 16px;">Spring</a> <a href="/tags/SpringBoot/" style="font-size: 10px;">SpringBoot</a> <a href="/tags/Sublime/" style="font-size: 10px;">Sublime</a> <a href="/tags/docker/" style="font-size: 10px;">docker</a> <a href="/tags/log4j/" style="font-size: 10px;">log4j</a> <a href="/tags/%E5%89%8D%E7%AB%AF/" style="font-size: 10px;">前端</a> <a href="/tags/%E5%8D%9A%E5%AE%A2/" style="font-size: 10px;">博客</a> <a href="/tags/%E5%8F%8D%E5%B0%84/" style="font-size: 10px;">反射</a> <a href="/tags/%E5%BC%80%E6%BA%90%E9%A1%B9%E7%9B%AE/" style="font-size: 16px;">开源项目</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/" style="font-size: 16px;">数据库</a> <a href="/tags/%E6%A1%86%E6%9E%B6/" style="font-size: 18px;">框架</a> <a href="/tags/%E7%89%88%E6%9C%AC%E7%AE%A1%E7%90%86/" style="font-size: 14px;">版本管理</a> <a href="/tags/%E8%BF%90%E7%BB%B4/" style="font-size: 12px;">运维</a>
        </div>
    </div>
    <a href="javascript:;" class="sidebar-menu-box-close">&times;</a>
</div>
<div class="mobile-header-menu-nav" id="mobile-header-menu-nav">
    <div class="mobile-header-menu-container">
        <span class="title">Menus</span>
        <ul class="mobile-header-menu-navbar">
            
            <li>
                <a  href="/">
                    <i class="fa fa-home"></i><span>主页</span>
                </a>
            </li>
            
            <li>
                <a  href="/archives">
                    <i class="fa fa-archive"></i><span>归档</span>
                </a>
            </li>
            
            <li>
                <a  href="/about">
                    <i class="fa fa-user"></i><span>关于</span>
                </a>
            </li>
            
        </ul>
    </div>
    <div class="mobile-header-tag-container">
        <span class="title">Tags</span>
        <div id="mobile-header-container-tags">
            <a href="/tags/Apache/" style="font-size: 12px;">Apache</a> <a href="/tags/Git/" style="font-size: 10px;">Git</a> <a href="/tags/Hexo/" style="font-size: 12px;">Hexo</a> <a href="/tags/IDE/" style="font-size: 10px;">IDE</a> <a href="/tags/JAVA/" style="font-size: 20px;">JAVA</a> <a href="/tags/Jquery/" style="font-size: 10px;">Jquery</a> <a href="/tags/Lucene/" style="font-size: 10px;">Lucene</a> <a href="/tags/Markdown/" style="font-size: 12px;">Markdown</a> <a href="/tags/Maven/" style="font-size: 10px;">Maven</a> <a href="/tags/Mysql/" style="font-size: 10px;">Mysql</a> <a href="/tags/Oracle/" style="font-size: 10px;">Oracle</a> <a href="/tags/PowerShell/" style="font-size: 10px;">PowerShell</a> <a href="/tags/Redis/" style="font-size: 12px;">Redis</a> <a href="/tags/SVN/" style="font-size: 10px;">SVN</a> <a href="/tags/Spring/" style="font-size: 16px;">Spring</a> <a href="/tags/SpringBoot/" style="font-size: 10px;">SpringBoot</a> <a href="/tags/Sublime/" style="font-size: 10px;">Sublime</a> <a href="/tags/docker/" style="font-size: 10px;">docker</a> <a href="/tags/log4j/" style="font-size: 10px;">log4j</a> <a href="/tags/%E5%89%8D%E7%AB%AF/" style="font-size: 10px;">前端</a> <a href="/tags/%E5%8D%9A%E5%AE%A2/" style="font-size: 10px;">博客</a> <a href="/tags/%E5%8F%8D%E5%B0%84/" style="font-size: 10px;">反射</a> <a href="/tags/%E5%BC%80%E6%BA%90%E9%A1%B9%E7%9B%AE/" style="font-size: 16px;">开源项目</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/" style="font-size: 16px;">数据库</a> <a href="/tags/%E6%A1%86%E6%9E%B6/" style="font-size: 18px;">框架</a> <a href="/tags/%E7%89%88%E6%9C%AC%E7%AE%A1%E7%90%86/" style="font-size: 14px;">版本管理</a> <a href="/tags/%E8%BF%90%E7%BB%B4/" style="font-size: 12px;">运维</a>
        </div>
    </div>
</div>
<div class="search-wrap">
    <span class="search-close">&times;</span>
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
            <i class="icon icon-lg icon-chevron-left"></i>
        </a>
        <input class="search-field" placeholder="Search..." id="keywords">
        <a id="search-submit" href="javascript:;">
            <i class="fa fa-search"></i>
        </a>
    <div class="search-container" id="search-container">
        <ul class="search-result" id="search-result">
        </ul>
    </div>
</div>

<div id="search-tpl">
    <li class="search-result-item">
        <a href="{url}" class="search-item-li">
            <span class="search-item-li-title" title="{title}">{title}</span>
        </a>
    </li>
</div>
<script src="/js/search.js"></script>
<script src="/js/main.js"></script>


  <script src="//cdn.bootcss.com/particles.js/2.0.0/particles.min.js"></script>
  <div id="particles"></div>
  <script src="/js/particles.js"></script>







  <link rel="stylesheet" href="//cdn.bootcss.com/animate.css/3.5.0/animate.min.css">
  <script src="//cdn.bootcss.com/scrollReveal.js/3.0.5/scrollreveal.js"></script>
  <script src="/js/animate.js"></script>


  <script src="/js/pop-img.js"></script>
  <script>
     $(".article-entry p img").popImg();
  </script>

  </div>
</body>
</html>